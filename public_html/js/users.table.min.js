$((function(){const e={0:"-",1:"11 Кю",2:"10 Кю",3:"9 Кю",4:"8 Кю",5:"7 Кю",6:"6 Кю",7:"5 Кю",8:"4 Кю",9:"3 Кю",10:"2 Кю",11:"1 Кю",12:"1 Дан",13:"2 Дан",14:"3 Дан",15:"4 Дан",16:"5 Дан",17:"6 Дан",18:"7 Дан",19:"8 Дан",20:"9 Дан",21:"10 Дан"},t=[{data:"id",title:"Уникальный идентификатор",visible:!1,searchable:!1,type:"hidden"},{data:"email",title:"Email",type:"hidden"},{data:"surname",title:"Фамилия",type:"hidden"},{data:"name",title:"Имя",type:"hidden"},{data:"patronymic",title:"Отчество",type:"hidden"},{data:"birthday",title:"Дата рождения",type:"hidden",render:function(e,t,a){if("sort"===t||"type"===t)return Date.parse(e);var n=new Date(e);return n.toLocaleDateString("ru-Ru")+" ("+((new Date).getFullYear()-n.getFullYear())+" лет)"}},{data:"level",title:"Степень мастерства",render:function(t,a,n){return"sort"===a||"type"===a?t:e[t]},type:"select",options:e,multiple:!1,select2:{width:"100%",language:"ru"}},{data:"trainer",title:"Тренер",type:"checkbox",render:function(e,t,a){return e?"Да":"Нет"}},{data:"admin",title:"Администратор",type:"checkbox",render:function(e,t,a){return e?"Да":"Нет"}}];var a=$("#usersTable"),n=a.data("getUrl"),r=a.data("editUrl");a.DataTable({scrollX:"100%",language:{url:$(".table-responsive").data("translationUrl"),buttons:{pageLength:{_:"Показать %d записей на странице","-1":"Показать всё"}}},sPaginationType:"full_numbers",ajax:{url:n,dataSrc:""},columns:t,dom:"Bfrtip",select:{style:"single",items:"row"},responsive:!1,altEditor:!0,buttons:[{extend:"selected",text:"Редактировать",name:"edit"},{text:"Обновить",name:"refresh"},{text:"Экспорт в excel",extend:"excelHtml5",exportOptions:{columns:":visible"}},"pageLength"],lengthMenu:[[10,25,50,-1],["10","25","50","Показать всё"]],onEditRow:function(e,t,a,n){$.ajax({url:r.replace("id",t.id),method:"POST",data:t,success:a,error:n,dataType:"json"})}})}));