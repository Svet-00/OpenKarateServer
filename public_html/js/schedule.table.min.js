$((function(){const e=["Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье"],t=[{data:"id",visible:!1,searchable:!1,type:"hidden"},{data:"day_of_week",title:"День недели",type:"select",options:e,render:function(t,a,d){return"sort"===a||"type"===a?e.indexOf(t):t},multiple:!1,select2:{width:"100%",language:"ru"}},{data:"time",title:"Время"},{data:"description",title:"Описание"}];var a,d=$("#scheduleTable"),l=d.data("getUrl"),n=d.data("editUrl"),s=d.data("addUrl"),r=d.data("deleteUrl");a=d.DataTable({scrollX:!0,language:{url:$(".table-responsive").data("translationUrl")},sPaginationType:"full_numbers",data:{},columns:t,dom:"Bfrtip",select:{style:"single",items:"row"},responsive:!1,altEditor:!0,buttons:[{text:"Добавить",name:"add"},{extend:"selected",text:"Редактировать",name:"edit"},{extend:"selected",text:"Удалить",name:"delete"}],onAddRow:function(e,t,a,d){t.gym_id=c,$.ajax({url:s,method:"POST",data:t,success:a,error:d,dataType:"json"})},onDeleteRow:function(e,t,a,d){$.ajax({url:r.replace("id",t.id),method:"DELETE",data:t,success:a,error:d,dataType:"json"})},onEditRow:function(e,t,a,d){$.ajax({url:n.replace("id",t.id),method:"POST",data:t,success:a,error:d,dataType:"json"})}});var o=$("#gymSelect"),i={},c=null;(o.select2({width:"100%"}),0==o.select2("data").length)?($("#schedulesTableWrapper").addClass("border-left-info"),$("#schedulesTableContainer").hide(),$("#noGymInfo").show()):u(o.find(":selected")[0].value);function u(e){a.clear(),a.draw(),c=e,null==i[e]?$.ajax({url:l.replace("id",e),dataType:"json",success:function(t,a,d){i[e]=t,u(e)},error:function(e,t,a){}}):(a.rows.add(i[e]),a.draw())}o.on("select2:select",(function(e){u(e.params.data.id)}))}));