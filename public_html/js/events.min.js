window.addEventListener("load",(function(e,n){const t=document.getElementById("eventForm_links"),a=document.getElementById("addLinkToEventBtn"),d=document.getElementsByClassName("eventLinkDeleteBtn"),l=function(e){this.parentElement.parentElement.remove()};Array.from(d).forEach((function(e){e.addEventListener("click",l)})),a.addEventListener("click",(function(e){const n='\n    <div class="card mb-2 text-sm">\n      <div class="card-header d-flex flex-row-reverse">\n        <a href="#"\n          class="btn btn-secondary btn-sm btn-circle eventLinkDeleteBtn">\n          <span class="material-icons-outlined">delete</span>\n        </a>\n      </div>\n      <div class="card-body">\n        {{ placeholder }}\n      </div>\n    </div>\n    ',d=t.children.length,c=a.dataset.prototype.replace(/__name__/g,d+1),o=n.replace("{{ placeholder }}",c),i=document.createElement("div");i.innerHTML=o,i.getElementsByClassName("eventLinkDeleteBtn").item(0).addEventListener("click",l),t.append(i)})),$("#deleteEventModal").on("show.bs.modal",(function(e){const n=$(e.relatedTarget),t=n.data("eventRemoveUrl"),a=n.data("eventTitle"),d=$(this);d.find(".modal-body").text('Вы действительно хотите удалить событие "'+a+'"?'),d.find(".btn-danger").on("click",(function(e){$.ajax({url:t,method:"DELETE",complete:function(e,n){location.reload()}})}))}))}));