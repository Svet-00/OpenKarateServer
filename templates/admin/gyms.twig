{% extends 'layouts/default.twig' %}
{% set title = 'Залы' %}

{% block customStyles %}
  <link rel="stylesheet"
    type="text/css"
    href="https://cdn.datatables.net/v/bs4/jszip-2.5.0/dt-1.10.23/b-1.6.5/b-html5-1.6.5/kt-2.5.3/r-2.2.6/sp-1.2.2/sl-1.3.1/datatables.min.css" />
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/css/select2.css" />
{% endblock %}

{% set usedOwnScripts = [
  'js/datatables',
  'js/dataTables.altEditor.free',
  'js/gyms.table'
] %}
{% block customScripts %}
  <script src="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/js/select2.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/js/i18n/ru.js"></script>
{% endblock %}

{% block content %}
  <div class="card shadow mb-4">
    <a href="#collapseGymsTable"
      class="d-block card-header py-3"
      data-toggle="collapse"
      role="button"
      aria-expanded="true"
      aria-controls="collapseGymsTable">
      <h6 class="m-0 font-weight-bold text-primary">
        Залы
      </h6>
    </a>
    <div class="collapse show" id="collapseGymsTable">
      <div class="card-body">
        <div class="table-responsive"
          data-translation-url="{{ asset('data/dataTableLocalization.json') }}">
          <table class="table table-bordered"
            id="gymsTable"
            width="100%"
            cellspacing="0"
            data-get-url="{{ path('get_gyms') }}"
            data-add-url="{{ path('add_gym') }}"
            data-edit-url="{{ path('edit_gym', { id: 'id' }) }}"
            data-delete-url="{{ path('delete_gym', { id: 'id' }) }}"></table>
        </div>
      </div>
    </div>
  </div>
  <div class="card shadow mb-4">
    <a href="#collapseGymPicturesTable"
      class="d-block card-header py-3"
      data-toggle="collapse"
      role="button"
      aria-expanded="false"
      aria-controls="collapseGymPicturesTable">
      <h6 class="m-0 font-weight-bold text-primary">
        Фотографии зала
      </h6>
    </a>
    <div class="collapse show" id="collapseGymPicturesTable">
      <div class="card-body border-left-info" id="gymPicturesCardBody">
        <h6 class="m-0 font-weight-bold text-secondary" id="noGymSelectedInfo">
          Чтобы редактировать фотографии, выберите зал из таблицы выше
        </h6>
        <div class="table-responsive"
          id="gymPicturesTableContainer"
          data-translation-url="{{ asset('data/dataTableLocalization.json') }}">
          <table class="table table-bordered"
            id="gymPicturesTable"
            width="100%"
            cellspacing="0"
            data-delete-url="{{ path('delete_gym_picture', { id: 'id' }) }}"
            data-add-url="{{ path('add_gym_picture', { id: 'id' }) }}"></table>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
